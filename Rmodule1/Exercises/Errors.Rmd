---
title: "Errors"
author: "Sarah Manski"
date: "April 2023"
output: html_document
---

With updates by Katherine Muller, October 2025

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Before you start, use Session -> Restart R and Clear Output and Session -> Clear Workspace in order to clear your environment and loaded packages.

```{r packages, echo = FALSE}
#Load required packages
library(tidyverse)
library(agridat)
```
Below are many nearly identical code chunks, all containing some error.  Can you troubleshoot these errors? When you think you've done it, remove "eval = FALSE" from the code chunk and try to run.


## Exercise 1

```{r ex1 error1, eval=FALSE}
sheep94 <- sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```

```{r ex1 error2, eval=FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep94 <- sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
Head(sheep94)
```

```{r ex1 error3, eval=FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep94 <- sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt)
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```

```{r ex1 error4, eval=FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep94 <- sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt, mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```

```{r ex1 error5, eval=FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep94 <- sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summmarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```

```{r ex1 error6, eval=FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep94 <- sheep %>% 
  filter(year = 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```

```{r ex1 error7, eval=FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```

### Challenge me!
Exercise for Meeting 1.

The code chunk below has no errors...*yet*! Edit the below chunk to contain some errors. Then when prompted, send me your error-filled code and I'll try to troubleshoot it!

```{r ex1 challenge, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
sheep94 <- sheep %>% 
  filter(year == 94, !is.na(weanwt)) %>%
  mutate(wtchange = weanwt - birthwt)%>%
  group_by(gen) %>% 
  summarize(mean_birthwt = mean(birthwt),
      mean_weanwt = mean(weanwt), mean_wtchange = mean(wtchange), n= n())
head(sheep94)
```





## Exercise 2

Notice that some chunks can run in the examples below but the output is not as expected.


```{r ex2 error1, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheeep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) + 
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error2, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen), shape = sex) +  
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error3, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(xlab = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error4, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", Title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error5, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_scatter(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error6, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex))   
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error7, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex)"
```

```{r ex2 error8, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(x = "Lamb weaning age", y = "Lamb weaning weight" title = "Lamb weaning age and weight by genotype and sex")
```

```{r ex2 error9, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(x = "Lamb weaning ageâ€, y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```
### Challenge me!
Exercise for Meeting 1.

The code chunk below has no errors...*yet*! Edit the below chunk to contain some errors. Then when prompted, send me your error-filled code and I'll try to troubleshoot it!

```{r ex2 challenge, eval = FALSE}
data(ilri.sheep)
sheep <- ilri.sheep
ggplot(data = sheep) + geom_point(aes(x = weanage, y=weanwt, color = gen, shape = sex)) +  
  labs(x = "Lamb weaning age", y = "Lamb weaning weight", title = "Lamb weaning age and weight by genotype and sex")
```
